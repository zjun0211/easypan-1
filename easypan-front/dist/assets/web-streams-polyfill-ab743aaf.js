import{c as Vr}from"./aplayer-585df14e.js";var fr={exports:{}},cn;function Ga(){return cn||(cn=1,function(Ya,bn){(function(R,d){d(bn)})(Vr,function(R){var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:function(e){return"Symbol("+e+")"};function sr(){}function mn(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Vr<"u")return Vr}var $r=mn();function w(e){return typeof e=="object"&&e!==null||typeof e=="function"}var Xr=sr,dr=Promise,hn=Promise.prototype.then,pn=Promise.resolve.bind(dr),_n=Promise.reject.bind(dr);function g(e){return new dr(e)}function h(e){return pn(e)}function l(e){return _n(e)}function z(e,r,t){return hn.call(e,r,t)}function P(e,r,t){z(z(e,r,t),void 0,Xr)}function cr(e,r){P(e,r)}function br(e,r){P(e,void 0,r)}function $(e,r,t){return z(e,r,t)}function ce(e){z(e,void 0,Xr)}var qe=function(){var e=$r&&$r.queueMicrotask;if(typeof e=="function")return e;var r=h(void 0);return function(t){return z(r,t)}}();function Ae(e,r,t){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,r,t)}function X(e,r,t){try{return h(Ae(e,r,t))}catch(n){return l(n)}}var Zr=16384,T=function(){function e(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.push=function(r){var t=this._back,n=t;t._elements.length===Zr-1&&(n={_elements:[],_next:void 0}),t._elements.push(r),n!==t&&(this._back=n,t._next=n),++this._size},e.prototype.shift=function(){var r=this._front,t=r,n=this._cursor,a=n+1,i=r._elements,o=i[n];return a===Zr&&(t=r._next,a=0),--this._size,this._cursor=a,r!==t&&(this._front=t),i[n]=void 0,o},e.prototype.forEach=function(r){for(var t=this._cursor,n=this._front,a=n._elements;(t!==a.length||n._next!==void 0)&&!(t===a.length&&(n=n._next,a=n._elements,t=0,a.length===0));)r(a[t]),++t},e.prototype.peek=function(){var r=this._front,t=this._cursor;return r._elements[t]},e}();function Jr(e,r){e._ownerReadableStream=r,r._reader=e,r._state==="readable"?hr(e):r._state==="closed"?yn(e):Kr(e,r._storedError)}function mr(e,r){var t=e._ownerReadableStream;return q(t,r)}function I(e){e._ownerReadableStream._state==="readable"?pr(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):vn(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function te(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function hr(e){e._closedPromise=g(function(r,t){e._closedPromise_resolve=r,e._closedPromise_reject=t})}function Kr(e,r){hr(e),pr(e,r)}function yn(e){hr(e),xr(e)}function pr(e,r){e._closedPromise_reject!==void 0&&(ce(e._closedPromise),e._closedPromise_reject(r),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function vn(e,r){Kr(e,r)}function xr(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}var et=d("[[AbortSteps]]"),rt=d("[[ErrorSteps]]"),_r=d("[[CancelSteps]]"),yr=d("[[PullSteps]]"),tt=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Sn=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function gn(e){return typeof e=="object"||typeof e=="function"}function F(e,r){if(e!==void 0&&!gn(e))throw new TypeError(r+" is not an object.")}function W(e,r){if(typeof e!="function")throw new TypeError(r+" is not a function.")}function Rn(e){return typeof e=="object"&&e!==null||typeof e=="function"}function nt(e,r){if(!Rn(e))throw new TypeError(r+" is not an object.")}function D(e,r,t){if(e===void 0)throw new TypeError("Parameter "+r+" is required in '"+t+"'.")}function vr(e,r,t){if(e===void 0)throw new TypeError(r+" is required in '"+t+"'.")}function Sr(e){return Number(e)}function at(e){return e===0?0:e}function wn(e){return at(Sn(e))}function it(e,r){var t=0,n=Number.MAX_SAFE_INTEGER,a=Number(e);if(a=at(a),!tt(a))throw new TypeError(r+" is not a finite number");if(a=wn(a),a<t||a>n)throw new TypeError(r+" is outside the accepted range of "+t+" to "+n+", inclusive");return!tt(a)||a===0?0:a}function gr(e,r){if(!U(e))throw new TypeError(r+" is not a ReadableStream.")}function ne(e){return new be(e)}function ot(e,r){e._reader._readRequests.push(r)}function Rr(e,r,t){var n=e._reader,a=n._readRequests.shift();t?a._closeSteps():a._chunkSteps(r)}function Be(e){return e._reader._readRequests.length}function ut(e){var r=e._reader;return!(r===void 0||!M(r))}var be=function(){function e(r){if(D(r,1,"ReadableStreamDefaultReader"),gr(r,"First parameter"),H(r))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Jr(this,r),this._readRequests=new T}return Object.defineProperty(e.prototype,"closed",{get:function(){return M(this)?this._closedPromise:l(Oe("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(r){return r===void 0&&(r=void 0),M(this)?this._ownerReadableStream===void 0?l(te("cancel")):mr(this,r):l(Oe("cancel"))},e.prototype.read=function(){if(!M(this))return l(Oe("read"));if(this._ownerReadableStream===void 0)return l(te("read from"));var r,t,n=g(function(i,o){r=i,t=o}),a={_chunkSteps:function(i){return r({value:i,done:!1})},_closeSteps:function(){return r({value:void 0,done:!0})},_errorSteps:function(i){return t(i)}};return me(this,a),n},e.prototype.releaseLock=function(){if(!M(this))throw Oe("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");I(this)}},e}();Object.defineProperties(be.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof d.toStringTag=="symbol"&&Object.defineProperty(be.prototype,d.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function M(e){return!w(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof be}function me(e,r){var t=e._ownerReadableStream;t._disturbed=!0,t._state==="closed"?r._closeSteps():t._state==="errored"?r._errorSteps(t._storedError):t._readableStreamController[yr](r)}function Oe(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}var wr,je;typeof d.asyncIterator=="symbol"&&(je=(wr={},wr[d.asyncIterator]=function(){return this},wr),Object.defineProperty(je,d.asyncIterator,{enumerable:!1}));var lt=function(){function e(r,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=r,this._preventCancel=t}return e.prototype.next=function(){var r=this,t=function(){return r._nextSteps()};return this._ongoingPromise=this._ongoingPromise?$(this._ongoingPromise,t,t):t(),this._ongoingPromise},e.prototype.return=function(r){var t=this,n=function(){return t._returnSteps(r)};return this._ongoingPromise?$(this._ongoingPromise,n,n):n()},e.prototype._nextSteps=function(){var r=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var t=this._reader;if(t._ownerReadableStream===void 0)return l(te("iterate"));var n,a,i=g(function(u,s){n=u,a=s}),o={_chunkSteps:function(u){r._ongoingPromise=void 0,qe(function(){return n({value:u,done:!1})})},_closeSteps:function(){r._ongoingPromise=void 0,r._isFinished=!0,I(t),n({value:void 0,done:!0})},_errorSteps:function(u){r._ongoingPromise=void 0,r._isFinished=!0,I(t),a(u)}};return me(t,o),i},e.prototype._returnSteps=function(r){if(this._isFinished)return Promise.resolve({value:r,done:!0});this._isFinished=!0;var t=this._reader;if(t._ownerReadableStream===void 0)return l(te("finish iterating"));if(!this._preventCancel){var n=mr(t,r);return I(t),$(n,function(){return{value:r,done:!0}})}return I(t),h({value:r,done:!0})},e}(),ft={next:function(){return st(this)?this._asyncIteratorImpl.next():l(dt("next"))},return:function(e){return st(this)?this._asyncIteratorImpl.return(e):l(dt("return"))}};je!==void 0&&Object.setPrototypeOf(ft,je);function Cn(e,r){var t=ne(e),n=new lt(t,r),a=Object.create(ft);return a._asyncIteratorImpl=n,a}function st(e){if(!w(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof lt}catch{return!1}}function dt(e){return new TypeError("ReadableStreamAsyncIterator."+e+" can only be used on a ReadableSteamAsyncIterator")}var ct=Number.isNaN||function(e){return e!==e};function he(e){return e.slice()}function bt(e,r,t,n,a){new Uint8Array(e).set(new Uint8Array(t,n,a),r)}function Ua(e){return e}function ke(e){return!1}function mt(e,r,t){if(e.slice)return e.slice(r,t);var n=t-r,a=new ArrayBuffer(n);return bt(a,0,e,r,n),a}function Pn(e){return!(typeof e!="number"||ct(e)||e<0)}function ht(e){var r=mt(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(r)}function Cr(e){var r=e._queue.shift();return e._queueTotalSize-=r.size,e._queueTotalSize<0&&(e._queueTotalSize=0),r.value}function Pr(e,r,t){if(!Pn(t)||t===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:r,size:t}),e._queueTotalSize+=t}function Tn(e){var r=e._queue.peek();return r.value}function N(e){e._queue=new T,e._queueTotalSize=0}var pe=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"view",{get:function(){if(!Tr(this))throw Ar("view");return this._view},enumerable:!1,configurable:!0}),e.prototype.respond=function(r){if(!Tr(this))throw Ar("respond");if(D(r,1,"respond"),r=it(r,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");ke(this._view.buffer),Le(this._associatedReadableByteStreamController,r)},e.prototype.respondWithNewView=function(r){if(!Tr(this))throw Ar("respondWithNewView");if(D(r,1,"respondWithNewView"),!ArrayBuffer.isView(r))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");ke(r.buffer),Me(this._associatedReadableByteStreamController,r)},e}();Object.defineProperties(pe.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof d.toStringTag=="symbol"&&Object.defineProperty(pe.prototype,d.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var ae=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(!Z(this))throw ye("byobRequest");return qr(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Z(this))throw ye("desiredSize");return wt(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!Z(this))throw ye("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var r=this._controlledReadableByteStream._state;if(r!=="readable")throw new TypeError("The stream (in "+r+" state) is not in the readable state and cannot be closed");_e(this)},e.prototype.enqueue=function(r){if(!Z(this))throw ye("enqueue");if(D(r,1,"enqueue"),!ArrayBuffer.isView(r))throw new TypeError("chunk must be an array buffer view");if(r.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(r.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");De(this,r)},e.prototype.error=function(r){if(r===void 0&&(r=void 0),!Z(this))throw ye("error");E(this,r)},e.prototype[_r]=function(r){pt(this),N(this);var t=this._cancelAlgorithm(r);return Fe(this),t},e.prototype[yr]=function(r){var t=this._controlledReadableByteStream;if(this._queueTotalSize>0){var n=this._queue.shift();this._queueTotalSize-=n.byteLength,St(this);var a=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);r._chunkSteps(a);return}var i=this._autoAllocateChunkSize;if(i!==void 0){var o=void 0;try{o=new ArrayBuffer(i)}catch(s){r._errorSteps(s);return}var u={buffer:o,bufferByteLength:i,byteOffset:0,byteLength:i,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(u)}ot(t,r),J(this)},e}();Object.defineProperties(ae.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof d.toStringTag=="symbol"&&Object.defineProperty(ae.prototype,d.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Z(e){return!w(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof ae}function Tr(e){return!w(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof pe}function J(e){var r=An(e);if(r){if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;var t=e._pullAlgorithm();P(t,function(){e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,J(e))},function(n){E(e,n)})}}function pt(e){Er(e),e._pendingPullIntos=new T}function Wr(e,r){var t=!1;e._state==="closed"&&(t=!0);var n=_t(r);r.readerType==="default"?Rr(e,n,t):jn(e,n,t)}function _t(e){var r=e.bytesFilled,t=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,r/t)}function ze(e,r,t,n){e._queue.push({buffer:r,byteOffset:t,byteLength:n}),e._queueTotalSize+=n}function yt(e,r){var t=r.elementSize,n=r.bytesFilled-r.bytesFilled%t,a=Math.min(e._queueTotalSize,r.byteLength-r.bytesFilled),i=r.bytesFilled+a,o=i-i%t,u=a,s=!1;o>n&&(u=o-r.bytesFilled,s=!0);for(var c=e._queue;u>0;){var b=c.peek(),m=Math.min(u,b.byteLength),v=r.byteOffset+r.bytesFilled;bt(r.buffer,v,b.buffer,b.byteOffset,m),b.byteLength===m?c.shift():(b.byteOffset+=m,b.byteLength-=m),e._queueTotalSize-=m,vt(e,m,r),u-=m}return s}function vt(e,r,t){t.bytesFilled+=r}function St(e){e._queueTotalSize===0&&e._closeRequested?(Fe(e),Te(e._controlledReadableByteStream)):J(e)}function Er(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function gt(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;var r=e._pendingPullIntos.peek();yt(e,r)&&(Ie(e),Wr(e._controlledReadableByteStream,r))}}function Wn(e,r,t){var n=e._controlledReadableByteStream,a=1;r.constructor!==DataView&&(a=r.constructor.BYTES_PER_ELEMENT);var i=r.constructor,o=r.buffer,u={buffer:o,bufferByteLength:o.byteLength,byteOffset:r.byteOffset,byteLength:r.byteLength,bytesFilled:0,elementSize:a,viewConstructor:i,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(u),Tt(n,t);return}if(n._state==="closed"){var s=new i(u.buffer,u.byteOffset,0);t._closeSteps(s);return}if(e._queueTotalSize>0){if(yt(e,u)){var c=_t(u);St(e),t._chunkSteps(c);return}if(e._closeRequested){var b=new TypeError("Insufficient bytes to fill elements in the given buffer");E(e,b),t._errorSteps(b);return}}e._pendingPullIntos.push(u),Tt(n,t),J(e)}function En(e,r){var t=e._controlledReadableByteStream;if(Br(t))for(;Wt(t)>0;){var n=Ie(e);Wr(t,n)}}function qn(e,r,t){if(vt(e,r,t),!(t.bytesFilled<t.elementSize)){Ie(e);var n=t.bytesFilled%t.elementSize;if(n>0){var a=t.byteOffset+t.bytesFilled,i=mt(t.buffer,a-n,a);ze(e,i,0,i.byteLength)}t.bytesFilled-=n,Wr(e._controlledReadableByteStream,t),gt(e)}}function Rt(e,r){var t=e._pendingPullIntos.peek();Er(e);var n=e._controlledReadableByteStream._state;n==="closed"?En(e):qn(e,r,t),J(e)}function Ie(e){var r=e._pendingPullIntos.shift();return r}function An(e){var r=e._controlledReadableByteStream;if(r._state!=="readable"||e._closeRequested||!e._started)return!1;if(ut(r)&&Be(r)>0||Br(r)&&Wt(r)>0)return!0;var t=wt(e);return t>0}function Fe(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function _e(e){var r=e._controlledReadableByteStream;if(!(e._closeRequested||r._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0){var t=e._pendingPullIntos.peek();if(t.bytesFilled>0){var n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw E(e,n),n}}Fe(e),Te(r)}}function De(e,r){var t=e._controlledReadableByteStream;if(!(e._closeRequested||t._state!=="readable")){var n=r.buffer,a=r.byteOffset,i=r.byteLength,o=n;if(e._pendingPullIntos.length>0){var u=e._pendingPullIntos.peek();ke(u.buffer),u.buffer=u.buffer}if(Er(e),ut(t))if(Be(t)===0)ze(e,o,a,i);else{e._pendingPullIntos.length>0&&Ie(e);var s=new Uint8Array(o,a,i);Rr(t,s,!1)}else Br(t)?(ze(e,o,a,i),gt(e)):ze(e,o,a,i);J(e)}}function E(e,r){var t=e._controlledReadableByteStream;t._state==="readable"&&(pt(e),N(e),Fe(e),Jt(t,r))}function qr(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){var r=e._pendingPullIntos.peek(),t=new Uint8Array(r.buffer,r.byteOffset+r.bytesFilled,r.byteLength-r.bytesFilled),n=Object.create(pe.prototype);On(n,e,t),e._byobRequest=n}return e._byobRequest}function wt(e){var r=e._controlledReadableByteStream._state;return r==="errored"?null:r==="closed"?0:e._strategyHWM-e._queueTotalSize}function Le(e,r){var t=e._pendingPullIntos.peek(),n=e._controlledReadableByteStream._state;if(n==="closed"){if(r!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(r===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(t.bytesFilled+r>t.byteLength)throw new RangeError("bytesWritten out of range")}t.buffer=t.buffer,Rt(e,r)}function Me(e,r){var t=e._pendingPullIntos.peek(),n=e._controlledReadableByteStream._state;if(n==="closed"){if(r.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(r.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(t.byteOffset+t.bytesFilled!==r.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(t.bufferByteLength!==r.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(t.bytesFilled+r.byteLength>t.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var a=r.byteLength;t.buffer=r.buffer,Rt(e,a)}function Ct(e,r,t,n,a,i,o){r._controlledReadableByteStream=e,r._pullAgain=!1,r._pulling=!1,r._byobRequest=null,r._queue=r._queueTotalSize=void 0,N(r),r._closeRequested=!1,r._started=!1,r._strategyHWM=i,r._pullAlgorithm=n,r._cancelAlgorithm=a,r._autoAllocateChunkSize=o,r._pendingPullIntos=new T,e._readableStreamController=r;var u=t();P(h(u),function(){r._started=!0,J(r)},function(s){E(r,s)})}function Bn(e,r,t){var n=Object.create(ae.prototype),a=function(){},i=function(){return h(void 0)},o=function(){return h(void 0)};r.start!==void 0&&(a=function(){return r.start(n)}),r.pull!==void 0&&(i=function(){return r.pull(n)}),r.cancel!==void 0&&(o=function(s){return r.cancel(s)});var u=r.autoAllocateChunkSize;if(u===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Ct(e,n,a,i,o,t,u)}function On(e,r,t){e._associatedReadableByteStreamController=r,e._view=t}function Ar(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function ye(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}function Pt(e){return new ve(e)}function Tt(e,r){e._reader._readIntoRequests.push(r)}function jn(e,r,t){var n=e._reader,a=n._readIntoRequests.shift();t?a._closeSteps(r):a._chunkSteps(r)}function Wt(e){return e._reader._readIntoRequests.length}function Br(e){var r=e._reader;return!(r===void 0||!K(r))}var ve=function(){function e(r){if(D(r,1,"ReadableStreamBYOBReader"),gr(r,"First parameter"),H(r))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Z(r._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Jr(this,r),this._readIntoRequests=new T}return Object.defineProperty(e.prototype,"closed",{get:function(){return K(this)?this._closedPromise:l(Ne("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(r){return r===void 0&&(r=void 0),K(this)?this._ownerReadableStream===void 0?l(te("cancel")):mr(this,r):l(Ne("cancel"))},e.prototype.read=function(r){if(!K(this))return l(Ne("read"));if(!ArrayBuffer.isView(r))return l(new TypeError("view must be an array buffer view"));if(r.byteLength===0)return l(new TypeError("view must have non-zero byteLength"));if(r.buffer.byteLength===0)return l(new TypeError("view's buffer must have non-zero byteLength"));if(ke(r.buffer),this._ownerReadableStream===void 0)return l(te("read from"));var t,n,a=g(function(o,u){t=o,n=u}),i={_chunkSteps:function(o){return t({value:o,done:!1})},_closeSteps:function(o){return t({value:o,done:!0})},_errorSteps:function(o){return n(o)}};return Et(this,r,i),a},e.prototype.releaseLock=function(){if(!K(this))throw Ne("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");I(this)}},e}();Object.defineProperties(ve.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof d.toStringTag=="symbol"&&Object.defineProperty(ve.prototype,d.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function K(e){return!w(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof ve}function Et(e,r,t){var n=e._ownerReadableStream;n._disturbed=!0,n._state==="errored"?t._errorSteps(n._storedError):Wn(n._readableStreamController,r,t)}function Ne(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}function Se(e,r){var t=e.highWaterMark;if(t===void 0)return r;if(ct(t)||t<0)throw new RangeError("Invalid highWaterMark");return t}function Qe(e){var r=e.size;return r||function(){return 1}}function Ye(e,r){F(e,r);var t=e==null?void 0:e.highWaterMark,n=e==null?void 0:e.size;return{highWaterMark:t===void 0?void 0:Sr(t),size:n===void 0?void 0:kn(n,r+" has member 'size' that")}}function kn(e,r){return W(e,r),function(t){return Sr(e(t))}}function zn(e,r){F(e,r);var t=e==null?void 0:e.abort,n=e==null?void 0:e.close,a=e==null?void 0:e.start,i=e==null?void 0:e.type,o=e==null?void 0:e.write;return{abort:t===void 0?void 0:In(t,e,r+" has member 'abort' that"),close:n===void 0?void 0:Fn(n,e,r+" has member 'close' that"),start:a===void 0?void 0:Dn(a,e,r+" has member 'start' that"),write:o===void 0?void 0:Ln(o,e,r+" has member 'write' that"),type:i}}function In(e,r,t){return W(e,t),function(n){return X(e,r,[n])}}function Fn(e,r,t){return W(e,t),function(){return X(e,r,[])}}function Dn(e,r,t){return W(e,t),function(n){return Ae(e,r,[n])}}function Ln(e,r,t){return W(e,t),function(n,a){return X(e,r,[n,a])}}function qt(e,r){if(!ie(e))throw new TypeError(r+" is not a WritableStream.")}function Mn(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}var Nn=typeof AbortController=="function";function Qn(){if(Nn)return new AbortController}var ge=function(){function e(r,t){r===void 0&&(r={}),t===void 0&&(t={}),r===void 0?r=null:nt(r,"First parameter");var n=Ye(t,"Second parameter"),a=zn(r,"First parameter");Bt(this);var i=a.type;if(i!==void 0)throw new RangeError("Invalid type is specified");var o=Qe(n),u=Se(n,1);ta(this,a,u,o)}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!ie(this))throw $e("locked");return oe(this)},enumerable:!1,configurable:!0}),e.prototype.abort=function(r){return r===void 0&&(r=void 0),ie(this)?oe(this)?l(new TypeError("Cannot abort a stream that already has a writer")):Ue(this,r):l($e("abort"))},e.prototype.close=function(){return ie(this)?oe(this)?l(new TypeError("Cannot close a stream that already has a writer")):B(this)?l(new TypeError("Cannot close an already-closing stream")):Ot(this):l($e("close"))},e.prototype.getWriter=function(){if(!ie(this))throw $e("getWriter");return At(this)},e}();Object.defineProperties(ge.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof d.toStringTag=="symbol"&&Object.defineProperty(ge.prototype,d.toStringTag,{value:"WritableStream",configurable:!0});function At(e){return new Re(e)}function Yn(e,r,t,n,a,i){a===void 0&&(a=1),i===void 0&&(i=function(){return 1});var o=Object.create(ge.prototype);Bt(o);var u=Object.create(ue.prototype);return Dt(o,u,e,r,t,n,a,i),o}function Bt(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new T,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function ie(e){return!w(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof ge}function oe(e){return e._writer!==void 0}function Ue(e,r){var t;if(e._state==="closed"||e._state==="errored")return h(void 0);e._writableStreamController._abortReason=r,(t=e._writableStreamController._abortController)===null||t===void 0||t.abort();var n=e._state;if(n==="closed"||n==="errored")return h(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;var a=!1;n==="erroring"&&(a=!0,r=void 0);var i=g(function(o,u){e._pendingAbortRequest={_promise:void 0,_resolve:o,_reject:u,_reason:r,_wasAlreadyErroring:a}});return e._pendingAbortRequest._promise=i,a||jr(e,r),i}function Ot(e){var r=e._state;if(r==="closed"||r==="errored")return l(new TypeError("The stream (in "+r+" state) is not in the writable state and cannot be closed"));var t=g(function(a,i){var o={_resolve:a,_reject:i};e._closeRequest=o}),n=e._writer;return n!==void 0&&e._backpressure&&r==="writable"&&Qr(n),na(e._writableStreamController),t}function Un(e){var r=g(function(t,n){var a={_resolve:t,_reject:n};e._writeRequests.push(a)});return r}function Or(e,r){var t=e._state;if(t==="writable"){jr(e,r);return}kr(e)}function jr(e,r){var t=e._writableStreamController;e._state="erroring",e._storedError=r;var n=e._writer;n!==void 0&&kt(n,r),!Xn(e)&&t._started&&kr(e)}function kr(e){e._state="errored",e._writableStreamController[rt]();var r=e._storedError;if(e._writeRequests.forEach(function(a){a._reject(r)}),e._writeRequests=new T,e._pendingAbortRequest===void 0){He(e);return}var t=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,t._wasAlreadyErroring){t._reject(r),He(e);return}var n=e._writableStreamController[et](t._reason);P(n,function(){t._resolve(),He(e)},function(a){t._reject(a),He(e)})}function Hn(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function Gn(e,r){e._inFlightWriteRequest._reject(r),e._inFlightWriteRequest=void 0,Or(e,r)}function Vn(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0;var r=e._state;r==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var t=e._writer;t!==void 0&&Qt(t)}function $n(e,r){e._inFlightCloseRequest._reject(r),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(r),e._pendingAbortRequest=void 0),Or(e,r)}function B(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function Xn(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function Zn(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function Jn(e){e._inFlightWriteRequest=e._writeRequests.shift()}function He(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var r=e._writer;r!==void 0&&Mr(r,e._storedError)}function zr(e,r){var t=e._writer;t!==void 0&&r!==e._backpressure&&(r?sa(t):Qr(t)),e._backpressure=r}var Re=function(){function e(r){if(D(r,1,"WritableStreamDefaultWriter"),qt(r,"First parameter"),oe(r))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=r,r._writer=this;var t=r._state;if(t==="writable")!B(r)&&r._backpressure?Ze(this):Yt(this),Xe(this);else if(t==="erroring")Nr(this,r._storedError),Xe(this);else if(t==="closed")Yt(this),la(this);else{var n=r._storedError;Nr(this,n),Nt(this,n)}}return Object.defineProperty(e.prototype,"closed",{get:function(){return x(this)?this._closedPromise:l(ee("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!x(this))throw ee("desiredSize");if(this._ownerWritableStream===void 0)throw we("desiredSize");return ra(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return x(this)?this._readyPromise:l(ee("ready"))},enumerable:!1,configurable:!0}),e.prototype.abort=function(r){return r===void 0&&(r=void 0),x(this)?this._ownerWritableStream===void 0?l(we("abort")):Kn(this,r):l(ee("abort"))},e.prototype.close=function(){if(!x(this))return l(ee("close"));var r=this._ownerWritableStream;return r===void 0?l(we("close")):B(r)?l(new TypeError("Cannot close an already-closing stream")):jt(this)},e.prototype.releaseLock=function(){if(!x(this))throw ee("releaseLock");var r=this._ownerWritableStream;r!==void 0&&zt(this)},e.prototype.write=function(r){return r===void 0&&(r=void 0),x(this)?this._ownerWritableStream===void 0?l(we("write to")):It(this,r):l(ee("write"))},e}();Object.defineProperties(Re.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof d.toStringTag=="symbol"&&Object.defineProperty(Re.prototype,d.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function x(e){return!w(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof Re}function Kn(e,r){var t=e._ownerWritableStream;return Ue(t,r)}function jt(e){var r=e._ownerWritableStream;return Ot(r)}function xn(e){var r=e._ownerWritableStream,t=r._state;return B(r)||t==="closed"?h(void 0):t==="errored"?l(r._storedError):jt(e)}function ea(e,r){e._closedPromiseState==="pending"?Mr(e,r):fa(e,r)}function kt(e,r){e._readyPromiseState==="pending"?Ut(e,r):da(e,r)}function ra(e){var r=e._ownerWritableStream,t=r._state;return t==="errored"||t==="erroring"?null:t==="closed"?0:Lt(r._writableStreamController)}function zt(e){var r=e._ownerWritableStream,t=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");kt(e,t),ea(e,t),r._writer=void 0,e._ownerWritableStream=void 0}function It(e,r){var t=e._ownerWritableStream,n=t._writableStreamController,a=aa(n,r);if(t!==e._ownerWritableStream)return l(we("write to"));var i=t._state;if(i==="errored")return l(t._storedError);if(B(t)||i==="closed")return l(new TypeError("The stream is closing or closed and cannot be written to"));if(i==="erroring")return l(t._storedError);var o=Un(t);return ia(n,r,a),o}var Ft={},ue=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"abortReason",{get:function(){if(!Ir(this))throw Lr("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"signal",{get:function(){if(!Ir(this))throw Lr("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),e.prototype.error=function(r){if(r===void 0&&(r=void 0),!Ir(this))throw Lr("error");var t=this._controlledWritableStream._state;t==="writable"&&Mt(this,r)},e.prototype[et]=function(r){var t=this._abortAlgorithm(r);return Ge(this),t},e.prototype[rt]=function(){N(this)},e}();Object.defineProperties(ue.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof d.toStringTag=="symbol"&&Object.defineProperty(ue.prototype,d.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Ir(e){return!w(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof ue}function Dt(e,r,t,n,a,i,o,u){r._controlledWritableStream=e,e._writableStreamController=r,r._queue=void 0,r._queueTotalSize=void 0,N(r),r._abortReason=void 0,r._abortController=Qn(),r._started=!1,r._strategySizeAlgorithm=u,r._strategyHWM=o,r._writeAlgorithm=n,r._closeAlgorithm=a,r._abortAlgorithm=i;var s=Dr(r);zr(e,s);var c=t(),b=h(c);P(b,function(){r._started=!0,Ve(r)},function(m){r._started=!0,Or(e,m)})}function ta(e,r,t,n){var a=Object.create(ue.prototype),i=function(){},o=function(){return h(void 0)},u=function(){return h(void 0)},s=function(){return h(void 0)};r.start!==void 0&&(i=function(){return r.start(a)}),r.write!==void 0&&(o=function(c){return r.write(c,a)}),r.close!==void 0&&(u=function(){return r.close()}),r.abort!==void 0&&(s=function(c){return r.abort(c)}),Dt(e,a,i,o,u,s,t,n)}function Ge(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function na(e){Pr(e,Ft,0),Ve(e)}function aa(e,r){try{return e._strategySizeAlgorithm(r)}catch(t){return Fr(e,t),1}}function Lt(e){return e._strategyHWM-e._queueTotalSize}function ia(e,r,t){try{Pr(e,r,t)}catch(i){Fr(e,i);return}var n=e._controlledWritableStream;if(!B(n)&&n._state==="writable"){var a=Dr(e);zr(n,a)}Ve(e)}function Ve(e){var r=e._controlledWritableStream;if(e._started&&r._inFlightWriteRequest===void 0){var t=r._state;if(t==="erroring"){kr(r);return}if(e._queue.length!==0){var n=Tn(e);n===Ft?oa(e):ua(e,n)}}}function Fr(e,r){e._controlledWritableStream._state==="writable"&&Mt(e,r)}function oa(e){var r=e._controlledWritableStream;Zn(r),Cr(e);var t=e._closeAlgorithm();Ge(e),P(t,function(){Vn(r)},function(n){$n(r,n)})}function ua(e,r){var t=e._controlledWritableStream;Jn(t);var n=e._writeAlgorithm(r);P(n,function(){Hn(t);var a=t._state;if(Cr(e),!B(t)&&a==="writable"){var i=Dr(e);zr(t,i)}Ve(e)},function(a){t._state==="writable"&&Ge(e),Gn(t,a)})}function Dr(e){var r=Lt(e);return r<=0}function Mt(e,r){var t=e._controlledWritableStream;Ge(e),jr(t,r)}function $e(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function Lr(e){return new TypeError("WritableStreamDefaultController.prototype."+e+" can only be used on a WritableStreamDefaultController")}function ee(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function we(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Xe(e){e._closedPromise=g(function(r,t){e._closedPromise_resolve=r,e._closedPromise_reject=t,e._closedPromiseState="pending"})}function Nt(e,r){Xe(e),Mr(e,r)}function la(e){Xe(e),Qt(e)}function Mr(e,r){e._closedPromise_reject!==void 0&&(ce(e._closedPromise),e._closedPromise_reject(r),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function fa(e,r){Nt(e,r)}function Qt(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Ze(e){e._readyPromise=g(function(r,t){e._readyPromise_resolve=r,e._readyPromise_reject=t}),e._readyPromiseState="pending"}function Nr(e,r){Ze(e),Ut(e,r)}function Yt(e){Ze(e),Qr(e)}function Ut(e,r){e._readyPromise_reject!==void 0&&(ce(e._readyPromise),e._readyPromise_reject(r),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function sa(e){Ze(e)}function da(e,r){Nr(e,r)}function Qr(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}var Ht=typeof DOMException<"u"?DOMException:void 0;function ca(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function ba(){var e=function(t,n){this.message=t||"",this.name=n||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}var ma=ca(Ht)?Ht:ba();function Gt(e,r,t,n,a,i){var o=ne(e),u=At(r);e._disturbed=!0;var s=!1,c=h(void 0);return g(function(b,m){var v;if(i!==void 0){if(v=function(){var f=new ma("Aborted","AbortError"),p=[];n||p.push(function(){return r._state==="writable"?Ue(r,f):h(void 0)}),a||p.push(function(){return e._state==="readable"?q(e,f):h(void 0)}),C(function(){return Promise.all(p.map(function(y){return y()}))},!0,f)},i.aborted){v();return}i.addEventListener("abort",v)}function A(){return g(function(f,p){function y(k){k?f():z(se(),y,p)}y(!1)})}function se(){return s?h(!0):z(u._readyPromise,function(){return g(function(f,p){me(o,{_chunkSteps:function(y){c=z(It(u,y),void 0,sr),f(!1)},_closeSteps:function(){return f(!0)},_errorSteps:p})})})}if(S(e,o._closedPromise,function(f){n?L(!0,f):C(function(){return Ue(r,f)},!0,f)}),S(r,u._closedPromise,function(f){a?L(!0,f):C(function(){return q(e,f)},!0,f)}),j(e,o._closedPromise,function(){t?L():C(function(){return xn(u)})}),B(r)||r._state==="closed"){var G=new TypeError("the destination writable stream closed before all data could be piped to it");a?L(!0,G):C(function(){return q(e,G)},!0,G)}ce(A());function O(){var f=c;return z(c,function(){return f!==c?O():void 0})}function S(f,p,y){f._state==="errored"?y(f._storedError):br(p,y)}function j(f,p,y){f._state==="closed"?y():cr(p,y)}function C(f,p,y){if(s)return;s=!0,r._state==="writable"&&!B(r)?cr(O(),k):k();function k(){P(f(),function(){return _(p,y)},function(V){return _(!0,V)})}}function L(f,p){s||(s=!0,r._state==="writable"&&!B(r)?cr(O(),function(){return _(f,p)}):_(f,p))}function _(f,p){zt(u),I(o),i!==void 0&&i.removeEventListener("abort",v),f?m(p):b(void 0)}})}var le=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Je(this))throw er("desiredSize");return Yr(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!Je(this))throw er("close");if(!fe(this))throw new TypeError("The stream is not in a state that permits close");Pe(this)},e.prototype.enqueue=function(r){if(r===void 0&&(r=void 0),!Je(this))throw er("enqueue");if(!fe(this))throw new TypeError("The stream is not in a state that permits enqueue");return xe(this,r)},e.prototype.error=function(r){if(r===void 0&&(r=void 0),!Je(this))throw er("error");Q(this,r)},e.prototype[_r]=function(r){N(this);var t=this._cancelAlgorithm(r);return Ke(this),t},e.prototype[yr]=function(r){var t=this._controlledReadableStream;if(this._queue.length>0){var n=Cr(this);this._closeRequested&&this._queue.length===0?(Ke(this),Te(t)):Ce(this),r._chunkSteps(n)}else ot(t,r),Ce(this)},e}();Object.defineProperties(le.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof d.toStringTag=="symbol"&&Object.defineProperty(le.prototype,d.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Je(e){return!w(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof le}function Ce(e){var r=Vt(e);if(r){if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;var t=e._pullAlgorithm();P(t,function(){e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Ce(e))},function(n){Q(e,n)})}}function Vt(e){var r=e._controlledReadableStream;if(!fe(e)||!e._started)return!1;if(H(r)&&Be(r)>0)return!0;var t=Yr(e);return t>0}function Ke(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Pe(e){if(fe(e)){var r=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(Ke(e),Te(r))}}function xe(e,r){if(fe(e)){var t=e._controlledReadableStream;if(H(t)&&Be(t)>0)Rr(t,r,!1);else{var n=void 0;try{n=e._strategySizeAlgorithm(r)}catch(a){throw Q(e,a),a}try{Pr(e,r,n)}catch(a){throw Q(e,a),a}}Ce(e)}}function Q(e,r){var t=e._controlledReadableStream;t._state==="readable"&&(N(e),Ke(e),Jt(t,r))}function Yr(e){var r=e._controlledReadableStream._state;return r==="errored"?null:r==="closed"?0:e._strategyHWM-e._queueTotalSize}function ha(e){return!Vt(e)}function fe(e){var r=e._controlledReadableStream._state;return!e._closeRequested&&r==="readable"}function $t(e,r,t,n,a,i,o){r._controlledReadableStream=e,r._queue=void 0,r._queueTotalSize=void 0,N(r),r._started=!1,r._closeRequested=!1,r._pullAgain=!1,r._pulling=!1,r._strategySizeAlgorithm=o,r._strategyHWM=i,r._pullAlgorithm=n,r._cancelAlgorithm=a,e._readableStreamController=r;var u=t();P(h(u),function(){r._started=!0,Ce(r)},function(s){Q(r,s)})}function pa(e,r,t,n){var a=Object.create(le.prototype),i=function(){},o=function(){return h(void 0)},u=function(){return h(void 0)};r.start!==void 0&&(i=function(){return r.start(a)}),r.pull!==void 0&&(o=function(){return r.pull(a)}),r.cancel!==void 0&&(u=function(s){return r.cancel(s)}),$t(e,a,i,o,u,t,n)}function er(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function _a(e,r){return Z(e._readableStreamController)?va(e):ya(e)}function ya(e,r){var t=ne(e),n=!1,a=!1,i=!1,o=!1,u,s,c,b,m,v=g(function(S){m=S});function A(){if(n)return a=!0,h(void 0);n=!0;var S={_chunkSteps:function(j){qe(function(){a=!1;var C=j,L=j;i||xe(c._readableStreamController,C),o||xe(b._readableStreamController,L),n=!1,a&&A()})},_closeSteps:function(){n=!1,i||Pe(c._readableStreamController),o||Pe(b._readableStreamController),(!i||!o)&&m(void 0)},_errorSteps:function(){n=!1}};return me(t,S),h(void 0)}function se(S){if(i=!0,u=S,o){var j=he([u,s]),C=q(e,j);m(C)}return v}function G(S){if(o=!0,s=S,i){var j=he([u,s]),C=q(e,j);m(C)}return v}function O(){}return c=Ur(O,A,se),b=Ur(O,A,G),br(t._closedPromise,function(S){Q(c._readableStreamController,S),Q(b._readableStreamController,S),(!i||!o)&&m(void 0)}),[c,b]}function va(e){var r=ne(e),t=!1,n=!1,a=!1,i=!1,o=!1,u,s,c,b,m,v=g(function(_){m=_});function A(_){br(_._closedPromise,function(f){_===r&&(E(c._readableStreamController,f),E(b._readableStreamController,f),(!i||!o)&&m(void 0))})}function se(){K(r)&&(I(r),r=ne(e),A(r));var _={_chunkSteps:function(f){qe(function(){n=!1,a=!1;var p=f,y=f;if(!i&&!o)try{y=ht(f)}catch(k){E(c._readableStreamController,k),E(b._readableStreamController,k),m(q(e,k));return}i||De(c._readableStreamController,p),o||De(b._readableStreamController,y),t=!1,n?O():a&&S()})},_closeSteps:function(){t=!1,i||_e(c._readableStreamController),o||_e(b._readableStreamController),c._readableStreamController._pendingPullIntos.length>0&&Le(c._readableStreamController,0),b._readableStreamController._pendingPullIntos.length>0&&Le(b._readableStreamController,0),(!i||!o)&&m(void 0)},_errorSteps:function(){t=!1}};me(r,_)}function G(_,f){M(r)&&(I(r),r=Pt(e),A(r));var p=f?b:c,y=f?c:b,k={_chunkSteps:function(V){qe(function(){n=!1,a=!1;var de=f?o:i,Ee=f?i:o;if(Ee)de||Me(p._readableStreamController,V);else{var dn=void 0;try{dn=ht(V)}catch(Gr){E(p._readableStreamController,Gr),E(y._readableStreamController,Gr),m(q(e,Gr));return}de||Me(p._readableStreamController,V),De(y._readableStreamController,dn)}t=!1,n?O():a&&S()})},_closeSteps:function(V){t=!1;var de=f?o:i,Ee=f?i:o;de||_e(p._readableStreamController),Ee||_e(y._readableStreamController),V!==void 0&&(de||Me(p._readableStreamController,V),!Ee&&y._readableStreamController._pendingPullIntos.length>0&&Le(y._readableStreamController,0)),(!de||!Ee)&&m(void 0)},_errorSteps:function(){t=!1}};Et(r,_,k)}function O(){if(t)return n=!0,h(void 0);t=!0;var _=qr(c._readableStreamController);return _===null?se():G(_._view,!1),h(void 0)}function S(){if(t)return a=!0,h(void 0);t=!0;var _=qr(b._readableStreamController);return _===null?se():G(_._view,!0),h(void 0)}function j(_){if(i=!0,u=_,o){var f=he([u,s]),p=q(e,f);m(p)}return v}function C(_){if(o=!0,s=_,i){var f=he([u,s]),p=q(e,f);m(p)}return v}function L(){}return c=Zt(L,O,j),b=Zt(L,S,C),A(r),[c,b]}function Sa(e,r){F(e,r);var t=e,n=t==null?void 0:t.autoAllocateChunkSize,a=t==null?void 0:t.cancel,i=t==null?void 0:t.pull,o=t==null?void 0:t.start,u=t==null?void 0:t.type;return{autoAllocateChunkSize:n===void 0?void 0:it(n,r+" has member 'autoAllocateChunkSize' that"),cancel:a===void 0?void 0:ga(a,t,r+" has member 'cancel' that"),pull:i===void 0?void 0:Ra(i,t,r+" has member 'pull' that"),start:o===void 0?void 0:wa(o,t,r+" has member 'start' that"),type:u===void 0?void 0:Ca(u,r+" has member 'type' that")}}function ga(e,r,t){return W(e,t),function(n){return X(e,r,[n])}}function Ra(e,r,t){return W(e,t),function(n){return X(e,r,[n])}}function wa(e,r,t){return W(e,t),function(n){return Ae(e,r,[n])}}function Ca(e,r){if(e=""+e,e!=="bytes")throw new TypeError(r+" '"+e+"' is not a valid enumeration value for ReadableStreamType");return e}function Pa(e,r){F(e,r);var t=e==null?void 0:e.mode;return{mode:t===void 0?void 0:Ta(t,r+" has member 'mode' that")}}function Ta(e,r){if(e=""+e,e!=="byob")throw new TypeError(r+" '"+e+"' is not a valid enumeration value for ReadableStreamReaderMode");return e}function Wa(e,r){F(e,r);var t=e==null?void 0:e.preventCancel;return{preventCancel:!!t}}function Xt(e,r){F(e,r);var t=e==null?void 0:e.preventAbort,n=e==null?void 0:e.preventCancel,a=e==null?void 0:e.preventClose,i=e==null?void 0:e.signal;return i!==void 0&&Ea(i,r+" has member 'signal' that"),{preventAbort:!!t,preventCancel:!!n,preventClose:!!a,signal:i}}function Ea(e,r){if(!Mn(e))throw new TypeError(r+" is not an AbortSignal.")}function qa(e,r){F(e,r);var t=e==null?void 0:e.readable;vr(t,"readable","ReadableWritablePair"),gr(t,r+" has member 'readable' that");var n=e==null?void 0:e.writable;return vr(n,"writable","ReadableWritablePair"),qt(n,r+" has member 'writable' that"),{readable:t,writable:n}}var Y=function(){function e(r,t){r===void 0&&(r={}),t===void 0&&(t={}),r===void 0?r=null:nt(r,"First parameter");var n=Ye(t,"Second parameter"),a=Sa(r,"First parameter");if(Hr(this),a.type==="bytes"){if(n.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");var i=Se(n,0);Bn(this,a,i)}else{var o=Qe(n),i=Se(n,1);pa(this,a,i,o)}}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!U(this))throw re("locked");return H(this)},enumerable:!1,configurable:!0}),e.prototype.cancel=function(r){return r===void 0&&(r=void 0),U(this)?H(this)?l(new TypeError("Cannot cancel a stream that already has a reader")):q(this,r):l(re("cancel"))},e.prototype.getReader=function(r){if(r===void 0&&(r=void 0),!U(this))throw re("getReader");var t=Pa(r,"First parameter");return t.mode===void 0?ne(this):Pt(this)},e.prototype.pipeThrough=function(r,t){if(t===void 0&&(t={}),!U(this))throw re("pipeThrough");D(r,1,"pipeThrough");var n=qa(r,"First parameter"),a=Xt(t,"Second parameter");if(H(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(oe(n.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var i=Gt(this,n.writable,a.preventClose,a.preventAbort,a.preventCancel,a.signal);return ce(i),n.readable},e.prototype.pipeTo=function(r,t){if(t===void 0&&(t={}),!U(this))return l(re("pipeTo"));if(r===void 0)return l("Parameter 1 is required in 'pipeTo'.");if(!ie(r))return l(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var n;try{n=Xt(t,"Second parameter")}catch(a){return l(a)}return H(this)?l(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):oe(r)?l(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Gt(this,r,n.preventClose,n.preventAbort,n.preventCancel,n.signal)},e.prototype.tee=function(){if(!U(this))throw re("tee");var r=_a(this);return he(r)},e.prototype.values=function(r){if(r===void 0&&(r=void 0),!U(this))throw re("values");var t=Wa(r,"First parameter");return Cn(this,t.preventCancel)},e}();Object.defineProperties(Y.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof d.toStringTag=="symbol"&&Object.defineProperty(Y.prototype,d.toStringTag,{value:"ReadableStream",configurable:!0}),typeof d.asyncIterator=="symbol"&&Object.defineProperty(Y.prototype,d.asyncIterator,{value:Y.prototype.values,writable:!0,configurable:!0});function Ur(e,r,t,n,a){n===void 0&&(n=1),a===void 0&&(a=function(){return 1});var i=Object.create(Y.prototype);Hr(i);var o=Object.create(le.prototype);return $t(i,o,e,r,t,n,a),i}function Zt(e,r,t){var n=Object.create(Y.prototype);Hr(n);var a=Object.create(ae.prototype);return Ct(n,a,e,r,t,0,void 0),n}function Hr(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function U(e){return!w(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof Y}function H(e){return e._reader!==void 0}function q(e,r){if(e._disturbed=!0,e._state==="closed")return h(void 0);if(e._state==="errored")return l(e._storedError);Te(e);var t=e._reader;t!==void 0&&K(t)&&(t._readIntoRequests.forEach(function(a){a._closeSteps(void 0)}),t._readIntoRequests=new T);var n=e._readableStreamController[_r](r);return $(n,sr)}function Te(e){e._state="closed";var r=e._reader;r!==void 0&&(xr(r),M(r)&&(r._readRequests.forEach(function(t){t._closeSteps()}),r._readRequests=new T))}function Jt(e,r){e._state="errored",e._storedError=r;var t=e._reader;t!==void 0&&(pr(t,r),M(t)?(t._readRequests.forEach(function(n){n._errorSteps(r)}),t._readRequests=new T):(t._readIntoRequests.forEach(function(n){n._errorSteps(r)}),t._readIntoRequests=new T))}function re(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}function Kt(e,r){F(e,r);var t=e==null?void 0:e.highWaterMark;return vr(t,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Sr(t)}}var xt=function(e){return e.byteLength};try{Object.defineProperty(xt,"name",{value:"size",configurable:!0})}catch{}var rr=function(){function e(r){D(r,1,"ByteLengthQueuingStrategy"),r=Kt(r,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=r.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!rn(this))throw en("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!rn(this))throw en("size");return xt},enumerable:!1,configurable:!0}),e}();Object.defineProperties(rr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof d.toStringTag=="symbol"&&Object.defineProperty(rr.prototype,d.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function en(e){return new TypeError("ByteLengthQueuingStrategy.prototype."+e+" can only be used on a ByteLengthQueuingStrategy")}function rn(e){return!w(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof rr}var tn=function(){return 1};try{Object.defineProperty(tn,"name",{value:"size",configurable:!0})}catch{}var tr=function(){function e(r){D(r,1,"CountQueuingStrategy"),r=Kt(r,"First parameter"),this._countQueuingStrategyHighWaterMark=r.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!an(this))throw nn("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!an(this))throw nn("size");return tn},enumerable:!1,configurable:!0}),e}();Object.defineProperties(tr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof d.toStringTag=="symbol"&&Object.defineProperty(tr.prototype,d.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function nn(e){return new TypeError("CountQueuingStrategy.prototype."+e+" can only be used on a CountQueuingStrategy")}function an(e){return!w(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof tr}function Aa(e,r){F(e,r);var t=e==null?void 0:e.flush,n=e==null?void 0:e.readableType,a=e==null?void 0:e.start,i=e==null?void 0:e.transform,o=e==null?void 0:e.writableType;return{flush:t===void 0?void 0:Ba(t,e,r+" has member 'flush' that"),readableType:n,start:a===void 0?void 0:Oa(a,e,r+" has member 'start' that"),transform:i===void 0?void 0:ja(i,e,r+" has member 'transform' that"),writableType:o}}function Ba(e,r,t){return W(e,t),function(n){return X(e,r,[n])}}function Oa(e,r,t){return W(e,t),function(n){return Ae(e,r,[n])}}function ja(e,r,t){return W(e,t),function(n,a){return X(e,r,[n,a])}}var nr=function(){function e(r,t,n){r===void 0&&(r={}),t===void 0&&(t={}),n===void 0&&(n={}),r===void 0&&(r=null);var a=Ye(t,"Second parameter"),i=Ye(n,"Third parameter"),o=Aa(r,"First parameter");if(o.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(o.writableType!==void 0)throw new RangeError("Invalid writableType specified");var u=Se(i,0),s=Qe(i),c=Se(a,1),b=Qe(a),m,v=g(function(A){m=A});ka(this,v,c,b,u,s),Ia(this,o),o.start!==void 0?m(o.start(this._transformStreamController)):m(void 0)}return Object.defineProperty(e.prototype,"readable",{get:function(){if(!on(this))throw sn("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"writable",{get:function(){if(!on(this))throw sn("writable");return this._writable},enumerable:!1,configurable:!0}),e}();Object.defineProperties(nr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof d.toStringTag=="symbol"&&Object.defineProperty(nr.prototype,d.toStringTag,{value:"TransformStream",configurable:!0});function ka(e,r,t,n,a,i){function o(){return r}function u(v){return La(e,v)}function s(v){return Ma(e,v)}function c(){return Na(e)}e._writable=Yn(o,u,c,s,t,n);function b(){return Qa(e)}function m(v){return ir(e,v),h(void 0)}e._readable=Ur(o,b,m,a,i),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,or(e,!0),e._transformStreamController=void 0}function on(e){return!w(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof nr}function ar(e,r){Q(e._readable._readableStreamController,r),ir(e,r)}function ir(e,r){un(e._transformStreamController),Fr(e._writable._writableStreamController,r),e._backpressure&&or(e,!1)}function or(e,r){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=g(function(t){e._backpressureChangePromise_resolve=t}),e._backpressure=r}var We=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!ur(this))throw lr("desiredSize");var r=this._controlledTransformStream._readable._readableStreamController;return Yr(r)},enumerable:!1,configurable:!0}),e.prototype.enqueue=function(r){if(r===void 0&&(r=void 0),!ur(this))throw lr("enqueue");ln(this,r)},e.prototype.error=function(r){if(r===void 0&&(r=void 0),!ur(this))throw lr("error");Fa(this,r)},e.prototype.terminate=function(){if(!ur(this))throw lr("terminate");Da(this)},e}();Object.defineProperties(We.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof d.toStringTag=="symbol"&&Object.defineProperty(We.prototype,d.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function ur(e){return!w(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof We}function za(e,r,t,n){r._controlledTransformStream=e,e._transformStreamController=r,r._transformAlgorithm=t,r._flushAlgorithm=n}function Ia(e,r){var t=Object.create(We.prototype),n=function(i){try{return ln(t,i),h(void 0)}catch(o){return l(o)}},a=function(){return h(void 0)};r.transform!==void 0&&(n=function(i){return r.transform(i,t)}),r.flush!==void 0&&(a=function(){return r.flush(t)}),za(e,t,n,a)}function un(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function ln(e,r){var t=e._controlledTransformStream,n=t._readable._readableStreamController;if(!fe(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{xe(n,r)}catch(i){throw ir(t,i),t._readable._storedError}var a=ha(n);a!==t._backpressure&&or(t,!0)}function Fa(e,r){ar(e._controlledTransformStream,r)}function fn(e,r){var t=e._transformAlgorithm(r);return $(t,void 0,function(n){throw ar(e._controlledTransformStream,n),n})}function Da(e){var r=e._controlledTransformStream,t=r._readable._readableStreamController;Pe(t);var n=new TypeError("TransformStream terminated");ir(r,n)}function La(e,r){var t=e._transformStreamController;if(e._backpressure){var n=e._backpressureChangePromise;return $(n,function(){var a=e._writable,i=a._state;if(i==="erroring")throw a._storedError;return fn(t,r)})}return fn(t,r)}function Ma(e,r){return ar(e,r),h(void 0)}function Na(e){var r=e._readable,t=e._transformStreamController,n=t._flushAlgorithm();return un(t),$(n,function(){if(r._state==="errored")throw r._storedError;Pe(r._readableStreamController)},function(a){throw ar(e,a),r._storedError})}function Qa(e){return or(e,!1),e._backpressureChangePromise}function lr(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function sn(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}R.ByteLengthQueuingStrategy=rr,R.CountQueuingStrategy=tr,R.ReadableByteStreamController=ae,R.ReadableStream=Y,R.ReadableStreamBYOBReader=ve,R.ReadableStreamBYOBRequest=pe,R.ReadableStreamDefaultController=le,R.ReadableStreamDefaultReader=be,R.TransformStream=nr,R.TransformStreamDefaultController=We,R.WritableStream=ge,R.WritableStreamDefaultController=ue,R.WritableStreamDefaultWriter=Re,Object.defineProperty(R,"__esModule",{value:!0})})}(fr,fr.exports)),fr.exports}export{Ga as r};
